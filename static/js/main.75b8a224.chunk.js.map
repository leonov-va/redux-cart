{"version":3,"sources":["components/Products/index.js","components/Basket/index.js","App.js","store/index.js","index.js"],"names":["Products","dispatch","useDispatch","products","useSelector","store","items","onAdd","event","id","target","dataset","type","payload","onRemove","find","product","count","className","map","name","price","onClick","Basket","filter","reduce","a","b","App","initialState","createStore","state","action","item","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0OAGe,SAASA,IACtB,IAAMC,EAAWC,cACXC,EAAWC,aAAY,SAACC,GAAD,OAAWA,EAAMC,SAExCC,EAAQ,SAACC,GACb,IAAQC,EAAOD,EAAME,OAAOC,QAApBF,GAERR,EAAS,CACPW,KAAM,8FACNC,QAAS,CAAEJ,SAITK,EAAW,SAACN,GAChB,IAAQC,EAAOD,EAAME,OAAOC,QAApBF,GACQN,EAASY,MAAK,SAACC,GAAD,OAAaA,EAAQP,KAAOA,KAE9CQ,OAAS,GACnBhB,EAAS,CACPW,KAAM,kFACNC,QAAS,CAAEJ,SAKjB,OACE,sBAAKS,UAAU,WAAf,UACE,kFACCf,EAASgB,KAAI,SAACH,GAAD,OACZ,sBAAKE,UAAU,UAAf,UACE,sBAAKA,UAAU,gBAAf,UACGF,EAAQI,KADX,OACqBJ,EAAQK,SAE7B,sBAAKH,UAAU,2BAAf,UACE,wBAAQ,UAASF,EAAQP,GAAIa,QAASR,EAAtC,eAGA,8BACE,+BAAOE,EAAQC,OAAS,OAE1B,wBAAQ,UAASD,EAAQP,GAAIa,QAASf,EAAtC,oBAX0BS,EAAQI,YC7B/B,SAASG,IACtB,IAAMpB,EAAWC,aAAY,SAACC,GAAD,OAAWA,EAAMC,SACxCe,EAAQlB,EACXqB,QAAO,SAACR,GAAD,QAAeA,EAAQC,SAC9BE,KAAI,SAACH,GAAD,OAAaA,EAAQK,MAAQL,EAAQC,SACzCQ,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,IAAG,GAE3B,OAAON,EACL,yBAAQH,UAAU,SAAlB,sGAA+CG,EAA/C,OACE,K,MCCSO,MATf,WACE,OACE,sBAAKV,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAACK,EAAD,Q,cCNAM,EAAe,CACnBvB,MAAO,CACL,CAAEG,GAAI,KAAMW,KAAM,cAAeC,MAAO,IAAKJ,MAAO,GACpD,CAAER,GAAI,KAAMW,KAAM,oBAAqBC,MAAO,GAAIJ,MAAO,GACzD,CAAER,GAAI,KAAMW,KAAM,yBAA0BC,MAAO,IAAKJ,MAAO,KAyCpDa,mBArCf,WAAoD,IAA/BC,EAA8B,uDAAtBF,EAAcG,EAAQ,uCACzCpB,EAAkBoB,EAAlBpB,KAAMC,EAAYmB,EAAZnB,QAEd,OAAQD,GACN,IAAK,8FACH,OAAO,2BACFmB,GADL,IAEEzB,MAAOyB,EAAMzB,MAAMa,KAAI,SAACc,GACtB,OAAIA,EAAKxB,KAAOI,EAAQJ,GACf,2BACFwB,GADL,IAEEhB,MAAOgB,EAAKhB,MAAQ,IAIjBgB,OAGb,IAAK,kFACH,OAAO,2BACFF,GADL,IAEEzB,MAAOyB,EAAMzB,MAAMa,KAAI,SAACc,GACtB,OAAIA,EAAKxB,KAAOI,EAAQJ,GACf,2BACFwB,GADL,IAEEhB,MAAOgB,EAAKhB,MAAQ,IAIjBgB,OAGb,QACE,OAAOF,MCrCbG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAU/B,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJgC,SAASC,eAAe,W","file":"static/js/main.75b8a224.chunk.js","sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\nimport \"./index.css\";\n\nexport default function Products() {\n  const dispatch = useDispatch();\n  const products = useSelector((store) => store.items);\n\n  const onAdd = (event) => {\n    const { id } = event.target.dataset;\n\n    dispatch({\n      type: \"Добавить продукт\",\n      payload: { id },\n    });\n  };\n\n  const onRemove = (event) => {\n    const { id } = event.target.dataset;\n    const product = products.find((product) => product.id === id);\n\n    if (product.count >= 1) {\n      dispatch({\n        type: \"Убрать продукт\",\n        payload: { id },\n      });\n    }\n  };\n\n  return (\n    <div className=\"products\">\n      <h1>Продукты</h1>\n      {products.map((product) => (\n        <div className=\"product\" key={product.name}>\n          <div className=\"product__name\">\n            {product.name} - ${product.price}\n          </div>\n          <div className=\"product__buttons-wrapper\">\n            <button data-id={product.id} onClick={onRemove}>\n              -\n            </button>\n            <div>\n              <span>{product.count || \"\"}</span>\n            </div>\n            <button data-id={product.id} onClick={onAdd}>\n              +\n            </button>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import { useSelector } from \"react-redux\";\nimport \"./index\";\n\nexport default function Basket() {\n  const products = useSelector((store) => store.items);\n  const price = products\n    .filter((product) => !!product.count)\n    .map((product) => product.price * product.count)\n    .reduce((a, b) => a + b, 0);\n\n  return price ? (\n    <button className=\"basket\">Перейти к оплате (${price})</button>\n  ) : null;\n}\n","import Products from \"./components/Products\";\nimport Basket from \"./components/Basket\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Products />\n      <Basket />\n    </div>\n  );\n}\n\nexport default App;\n","import { createStore } from \"redux\";\n\nconst initialState = {\n  items: [\n    { id: \"#1\", name: \"iPad 4 Mini\", price: 500, count: 0 },\n    { id: \"#2\", name: \"H&M T-Shirt White\", price: 10, count: 0 },\n    { id: \"#3\", name: \"Charli XCX - Sucker CD\", price: 699, count: 0 },\n  ],\n};\n\nfunction cartReducer(state = initialState, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case \"Добавить продукт\":\n      return {\n        ...state,\n        items: state.items.map((item) => {\n          if (item.id === payload.id) {\n            return {\n              ...item,\n              count: item.count + 1,\n            };\n          }\n\n          return item;\n        }),\n      };\n    case \"Убрать продукт\":\n      return {\n        ...state,\n        items: state.items.map((item) => {\n          if (item.id === payload.id) {\n            return {\n              ...item,\n              count: item.count - 1,\n            };\n          }\n\n          return item;\n        }),\n      };\n    default:\n      return state;\n  }\n}\n\nexport default createStore(cartReducer);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}